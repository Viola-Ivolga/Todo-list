{"ast":null,"code":"import _toConsumableArray from \"/Users/violettafilippova/Desktop/my-first-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/violettafilippova/Desktop/my-first-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/violettafilippova/Desktop/my-first-app/src/App.js\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport TodoList from './TodoList';\nimport { v4 as uuidv4 } from 'uuid';\nvar LOCAL_STORAGE_KEY = 'todoApp.todos';\n\nfunction App() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      todos = _useState2[0],\n      setTodos = _useState2[1];\n\n  var todoNameRef = useRef();\n  useEffect(function () {\n    var storedTodos = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n    if (storedTodos) setTodos(storedTodos);\n  }, []);\n  useEffect(function () {\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(todos));\n  }, [todos]);\n\n  function toggleTodo(id) {\n    var newTodos = _toConsumableArray(todos);\n\n    var todo = newTodos.find(function (todo) {\n      return todo.id === id;\n    });\n    todo.complete = !todo.complete;\n    setTodos(newTodos);\n  }\n\n  function handleAddTodo(e) {\n    var name = todoNameRef.current.value;\n    if (name === '') return;\n    setTodos(function (prevTodos) {\n      return [].concat(_toConsumableArray(prevTodos), [{\n        id: uuidv4(),\n        name: name,\n        complete: false\n      }]);\n    });\n    todoNameRef.current.value = null;\n  }\n\n  function handleClearTodos() {\n    var newTodos = todos.filter(function (todo) {\n      return !todo.complete;\n    });\n    setTodos(newTodos);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TodoList, {\n    todos: todos,\n    toggleTodo: toggleTodo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    ref: todoNameRef,\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleAddTodo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, \"Add Todo\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleClearTodos,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, \"Clear Todos\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, \" \", todos.filter(function (todo) {\n    return !todo.complete;\n  }).length, \" left to do\"));\n}\n\nexport default App; // { id: 1, name: 'Todo 1', complete: true }","map":{"version":3,"names":["React","useState","useRef","useEffect","TodoList","v4","uuidv4","LOCAL_STORAGE_KEY","App","todos","setTodos","todoNameRef","storedTodos","JSON","parse","localStorage","getItem","setItem","stringify","toggleTodo","id","newTodos","todo","find","complete","handleAddTodo","e","name","current","value","prevTodos","handleClearTodos","filter","length"],"sources":["/Users/violettafilippova/Desktop/my-first-app/src/App.js"],"sourcesContent":["import React, {useState, useRef, useEffect} from 'react';\nimport TodoList from './TodoList';\nimport { v4 as uuidv4 } from 'uuid';\n\n\nconst LOCAL_STORAGE_KEY = 'todoApp.todos'\n\nfunction App() {\n  const [todos, setTodos] = useState([])\n  const todoNameRef = useRef()\n\nuseEffect(() => {\n  const storedTodos = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY))\n  if (storedTodos) setTodos(storedTodos)\n}, [])  \n\nuseEffect(() => {\n  localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(todos))\n}, [todos])\n\n\nfunction toggleTodo(id) {\n  const newTodos = [...todos]\n  const todo = newTodos.find(todo => todo.id === id)\n  todo.complete = !todo.complete\n  setTodos(newTodos)\n}\n\n\nfunction handleAddTodo(e) {\n    const name = todoNameRef.current.value\n    if(name === '') return\n    setTodos(prevTodos => {\n      return [...prevTodos, { id: uuidv4(), name: name, complete: false}]\n\n  })\n\n  todoNameRef.current.value = null\n}\n\nfunction handleClearTodos() {\n  const newTodos = todos.filter(todo => !todo.complete)\n  setTodos(newTodos)\n}\n  return (\n    <>\n    <TodoList todos={todos} toggleTodo={toggleTodo}/>\n    <input ref={todoNameRef} type = \"text\" />\n    <button onClick={handleAddTodo}>Add Todo</button>\n    <button onClick={handleClearTodos}>Clear Todos</button>\n    <div> {todos.filter(todo => !todo.complete).length} left to do</div>\n    </>\n  )\n    \n}\nexport default App;\n// { id: 1, name: 'Todo 1', complete: true }"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,MAAzB,EAAiCC,SAAjC,QAAiD,OAAjD;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAASC,EAAE,IAAIC,MAAf,QAA6B,MAA7B;AAGA,IAAMC,iBAAiB,GAAG,eAA1B;;AAEA,SAASC,GAAT,GAAe;EAAA,gBACaP,QAAQ,CAAC,EAAD,CADrB;EAAA;EAAA,IACNQ,KADM;EAAA,IACCC,QADD;;EAEb,IAAMC,WAAW,GAAGT,MAAM,EAA1B;EAEFC,SAAS,CAAC,YAAM;IACd,IAAMS,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBT,iBAArB,CAAX,CAApB;IACA,IAAIK,WAAJ,EAAiBF,QAAQ,CAACE,WAAD,CAAR;EAClB,CAHQ,EAGN,EAHM,CAAT;EAKAT,SAAS,CAAC,YAAM;IACdY,YAAY,CAACE,OAAb,CAAqBV,iBAArB,EAAwCM,IAAI,CAACK,SAAL,CAAeT,KAAf,CAAxC;EACD,CAFQ,EAEN,CAACA,KAAD,CAFM,CAAT;;EAKA,SAASU,UAAT,CAAoBC,EAApB,EAAwB;IACtB,IAAMC,QAAQ,sBAAOZ,KAAP,CAAd;;IACA,IAAMa,IAAI,GAAGD,QAAQ,CAACE,IAAT,CAAc,UAAAD,IAAI;MAAA,OAAIA,IAAI,CAACF,EAAL,KAAYA,EAAhB;IAAA,CAAlB,CAAb;IACAE,IAAI,CAACE,QAAL,GAAgB,CAACF,IAAI,CAACE,QAAtB;IACAd,QAAQ,CAACW,QAAD,CAAR;EACD;;EAGD,SAASI,aAAT,CAAuBC,CAAvB,EAA0B;IACtB,IAAMC,IAAI,GAAGhB,WAAW,CAACiB,OAAZ,CAAoBC,KAAjC;IACA,IAAGF,IAAI,KAAK,EAAZ,EAAgB;IAChBjB,QAAQ,CAAC,UAAAoB,SAAS,EAAI;MACpB,oCAAWA,SAAX,IAAsB;QAAEV,EAAE,EAAEd,MAAM,EAAZ;QAAgBqB,IAAI,EAAEA,IAAtB;QAA4BH,QAAQ,EAAE;MAAtC,CAAtB;IAEH,CAHS,CAAR;IAKFb,WAAW,CAACiB,OAAZ,CAAoBC,KAApB,GAA4B,IAA5B;EACD;;EAED,SAASE,gBAAT,GAA4B;IAC1B,IAAMV,QAAQ,GAAGZ,KAAK,CAACuB,MAAN,CAAa,UAAAV,IAAI;MAAA,OAAI,CAACA,IAAI,CAACE,QAAV;IAAA,CAAjB,CAAjB;IACAd,QAAQ,CAACW,QAAD,CAAR;EACD;;EACC,oBACE,uDACA,oBAAC,QAAD;IAAU,KAAK,EAAEZ,KAAjB;IAAwB,UAAU,EAAEU,UAApC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADA,eAEA;IAAO,GAAG,EAAER,WAAZ;IAAyB,IAAI,EAAG,MAAhC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAFA,eAGA;IAAQ,OAAO,EAAEc,aAAjB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,cAHA,eAIA;IAAQ,OAAO,EAAEM,gBAAjB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,iBAJA,eAKA;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,QAAOtB,KAAK,CAACuB,MAAN,CAAa,UAAAV,IAAI;IAAA,OAAI,CAACA,IAAI,CAACE,QAAV;EAAA,CAAjB,EAAqCS,MAA5C,gBALA,CADF;AAUD;;AACD,eAAezB,GAAf,C,CACA"},"metadata":{},"sourceType":"module"}